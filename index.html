<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0a">
    <meta name="color-scheme" content="dark">
    
    <!-- Primary Meta Tags -->
    <title>SQUIDDRILL | BHAVYA KAPATEL üíÄ</title>
    <meta name="title" content="SQUIDDRILL | BHAVYA KAPATEL üíÄ">
    <meta name="description" content="Digital monolith and logic repository of Bhavya Kapatel. Exploring software architecture, automation, and interactive design.">
    <link rel="icon" type="image/jpg" href="favicon.jpg">
    <link rel="canonical" href="https://squiddrill.fun" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@900&family=Space+Grotesk:wght@700&family=JetBrains+Mono:wght@500;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #0a0a0a;
            --white: #ffffff;
            --grey: #333333;
            --lime: #C3FF00;
            --pink: #FF0055;
            --cyan: #00F0FF;
            --orange: #FF5C00;
        }

        ::selection { background-color: var(--cyan); color: var(--bg); }

        body {
            font-family: 'Public Sans', sans-serif;
            background-color: var(--bg);
            color: var(--white);
            overflow-x: hidden;
            background-image: radial-gradient(rgba(255,255,255,0.08) 1.5px, transparent 1.5px);
            background-size: 35px 35px;
            position: relative;
            touch-action: manipulation;
        }

        @media (pointer: fine) { body { cursor: none; } }

        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3BaseFilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/feFilter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.05; pointer-events: none; z-index: 9999;
        }

        #cursor {
            width: 24px; height: 24px; background: #fff; border-radius: 2px;
            position: fixed; pointer-events: none; z-index: 1000000; 
            mix-blend-mode: difference; transition: transform 0.1s ease-out;
            display: none; align-items: center; justify-content: center;
        }
        @media (pointer: fine) { #cursor { display: flex; } }

        #interactive-name { transform: skewX(-10deg); display: inline-block; }
        .char { display: inline-block; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; padding: 0 1px; }
        .char:hover { transform: scale(1.3) translateY(-10px) rotate(5deg); text-shadow: 8px 8px 0px black; }
        .c-1 { color: var(--cyan); }
        .c-2 { color: var(--lime); }
        .c-3 { color: var(--pink); }

        .brutal-heading { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: inline-block; }
        .brutal-heading:hover { transform: skewX(-10deg) scale(1.05); color: var(--lime); text-shadow: 10px 10px 0px var(--pink); }

        .neo-box {
            background: var(--bg); border: 4px solid var(--white);
            box-shadow: 10px 10px 0px 0px var(--white);
            transition: all 0.25s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .neo-box:hover { transform: translate(-4px, -4px); box-shadow: 18px 18px 0px 0px var(--lime); border-color: var(--lime); }

        .page-view { transition: opacity 0.5s ease-in-out; min-height: 100vh; width: 100%; }
        .view-hidden { display: none !important; opacity: 0; }
        .full-view-container { position: fixed; inset: 0; overflow-y: auto; z-index: 1500; background: black; padding-top: 100px; padding-bottom: 100px; }

        .reveal { opacity: 0; transform: translateY(40px); transition: all 0.7s cubic-bezier(0.23, 1, 0.32, 1); }
        .reveal.visible { opacity: 1; transform: translateY(0); }

        .nav-link {
            padding: 0.75rem 1.25rem; font-weight: 800; text-transform: uppercase; font-size: 0.75rem;
            transition: all 0.2s; border: 4px solid white; display: flex; align-items: center; gap: 6px;
            background: white; color: black; box-shadow: 4px 4px 0px rgba(255,255,255,0.2);
        }
        .nav-link:hover { background: var(--lime); transform: scale(1.1) rotate(-1deg); box-shadow: 6px 6px 0px black; }
        .nav-active { background: var(--orange) !important; color: white !important; box-shadow: 8px 8px 0px white !important; }

        .status-tag-anim {
            background: black; color: white; border: 4px solid white; box-shadow: 6px 6px 0px var(--lime);
            padding: 6px 20px; display: inline-block; font-family: 'JetBrains Mono', monospace;
            font-weight: 900; text-transform: uppercase; animation: status-float 3s infinite ease-in-out;
        }
        @keyframes status-float { 0%, 100% { transform: translateY(0) rotate(-1deg); } 50% { transform: translateY(-5px) rotate(1deg); box-shadow: 10px 10px 0px var(--pink); } }

        .live-dot { width: 12px; height: 12px; background: #ef4444; border-radius: 50%; display: inline-block; margin-right: 10px; box-shadow: 0 0 15px #ef4444; animation: pulse-red 1.5s infinite; }
        @keyframes pulse-red { 0% { transform: scale(0.9); opacity: 0.7; } 50% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(0.9); opacity: 0.7; } }

        .connect-card {
            border: 6px solid white; padding: 2.5rem; background: black; color: white;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 12px 12px 0px 0px white; min-height: 220px; display: flex; flex-direction: column; justify-content: center;
        }
        .connect-card:hover { transform: translate(-8px, -8px); box-shadow: 24px 24px 0px 0px var(--lime); border-color: var(--lime); }

        #game-canvas { image-rendering: pixelated; background: #000000; width: 100%; height: 450px; border: 8px solid white; touch-action: none; }

        .modal-overlay {
            position: fixed; inset: 0; z-index: 99999; background: rgba(0,0,0,0.98);
            display: none; align-items: center; justify-content: center; backdrop-filter: blur(20px);
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }
        .modal-overlay.closing { opacity: 0; transform: scale(1.1); pointer-events: none; }

        .grey-dialog {
            background: #1a1a1a; border: 8px solid white; box-shadow: 30px 30px 0px 0px var(--lime);
            padding: 3.5rem; width: 95%; max-width: 600px; text-align: center;
        }

        .bubble-effect { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 999999; }

        .back-btn {
            background: white; color: black; border: 4px solid black; font-weight: 900; text-transform: uppercase;
            box-shadow: 8px 8px 0px var(--lime); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 1.5rem 3rem; display: inline-block; cursor: pointer; width: 100%; text-align: center;
        }
        .back-btn:hover { transform: scale(1.02) skewX(-2deg); background: var(--cyan); box-shadow: 12px 12px 0px black; }

        /* --- COMMENT PINNING ENGINE --- */
        .comment-pinned {
            border-color: var(--lime) !important;
            box-shadow: 10px 10px 0px 0px var(--lime) !important;
            background: rgba(10, 10, 10, 0.98) !important;
            position: sticky; top: 0; z-index: 50;
        }

        .comments-scroll-area {
            max-height: 550px; /* Calibrated for ~7 comments */
            overflow-y: auto;
            position: relative;
            padding-right: 5px;
        }
        .comments-scroll-area::-webkit-scrollbar { width: 6px; }
        .comments-scroll-area::-webkit-scrollbar-thumb { background: var(--white); }

        .input-error { animation: shake 0.4s ease-in-out; border-color: var(--pink) !important; box-shadow: 0 0 15px var(--pink) !important; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }

        body.view-open { overflow: hidden; }

        @media (max-width: 640px) {
            .nav-link span { display: none; }
            #interactive-name { font-size: 4rem; }
            .neo-box { padding: 1.5rem; }
        }
    </style>
</head>
<body class="antialiased">

    <canvas id="bubble-canvas" class="bubble-effect"></canvas>
    <div id="cursor"></div>

    <!-- Professionally Cool Initial Modal -->
    <div id="initial-modal" class="modal-overlay" style="display: flex;">
        <div class="grey-dialog border-white">
            <h2 class="text-5xl md:text-6xl font-black text-white uppercase italic mb-8 tracking-tighter">HELLO.</h2>
            <p class="mono text-white text-xl mb-12 leading-relaxed opacity-90 uppercase tracking-tight">
                Welcome to my digital workspace. <br>
                <span class="text-lime">I build things with logic and caffeine.</span>
            </p>
            <button onclick="closeInitialModal()" class="w-full bg-white text-black py-6 font-black uppercase text-3xl border-4 border-black shadow-[10px_10px_0px_var(--lime)] hover:translate-x-[-4px] hover:translate-y-[-4px] transition-all">ENTER SYSTEM</button>
        </div>
    </div>

    <!-- Arcade Modal with Device Selector -->
    <div id="game-modal" class="modal-overlay">
        <div class="grey-dialog">
            <h2 class="text-4xl md:text-5xl font-black text-white uppercase italic mb-6 tracking-tighter brutal-heading">Sector Entry</h2>
            
            <div id="game-step-1" class="space-y-6">
                <input id="arcade-nickname" type="text" maxlength="12" placeholder="USERNAME (MANDATORY)" class="w-full bg-black border-4 border-white p-6 mono text-white uppercase outline-none focus:border-lime text-center text-2xl">
                <button onclick="validateNickname()" class="w-full bg-white text-black py-4 font-black uppercase text-xl border-4 border-black shadow-[6px_6px_0px_var(--lime)]">CONTINUE</button>
            </div>

            <div id="game-step-2" class="hidden flex flex-col gap-4">
                <p class="mono text-white mb-4 text-sm opacity-60 uppercase tracking-widest">Select Control Interface</p>
                <button onclick="selectDevice('desktop')" class="bg-white text-black py-5 font-black uppercase text-xl border-4 border-black shadow-[8px_8px_0px_white] hover:translate-x-2 transition-transform flex items-center justify-center gap-3">
                    <i class="fa-solid fa-keyboard"></i> Mouse & Keyboard
                </button>
                <button onclick="selectDevice('touch')" class="bg-pink-500 text-white py-5 font-black uppercase text-xl border-4 border-white shadow-[8px_8px_0px_white] hover:translate-x-2 transition-transform flex items-center justify-center gap-3">
                    <i class="fa-solid fa-hand-pointer"></i> Touch (Gestures)
                </button>
            </div>

            <div id="game-step-3" class="hidden flex flex-col gap-4">
                <p class="mono text-white mb-4 text-sm opacity-60 uppercase tracking-widest">CHOOSE MODULE</p>
                <button onclick="switchGame('dino')" class="bg-lime text-black py-5 font-black uppercase text-2xl border-4 border-white shadow-[8px_8px_0px_white] hover:translate-x-2 transition-transform">Dino Survival</button>
                <button onclick="switchGame('snake')" class="bg-cyan text-black py-5 font-black uppercase text-2xl border-4 border-white shadow-[8px_8px_0px_white] hover:translate-x-2 transition-transform">Classic Snake</button>
            </div>

            <button onclick="document.getElementById('game-modal').style.display='none'" class="mt-10 text-white font-black uppercase text-xs border-b-2 border-white opacity-50 hover:opacity-100 transition-opacity">ABORT ACCESS</button>
        </div>
    </div>

    <nav class="fixed top-0 left-0 w-full z-[2000] bg-black border-b-8 border-white px-6 py-5 flex justify-between items-center">
        <div class="flex items-center gap-4">
            <span class="mono text-xs md:text-sm font-black bg-white text-black px-4 py-2 uppercase">
                Node Visitors <span id="v-count" class="text-pink-600 animate-pulse">...</span> ‚ö°
            </span>
        </div>
        <div class="flex gap-2 sm:gap-3">
            <button onclick="switchView('home')" id="nav-home" class="nav-link nav-active"><i class="fa-solid fa-house"></i> <span>Home</span></button>
            <button onclick="switchView('arcade')" id="nav-arcade" class="nav-link"><i class="fa-solid fa-gamepad"></i> <span>Arcade</span></button>
            <button onclick="switchView('connect')" id="nav-connect" class="nav-link"><i class="fa-solid fa-network-wired"></i> <span>Socials</span></button>
        </div>
    </nav>

    <!-- HOME VIEW -->
    <div id="home-view" class="page-view pt-32 pb-48">
        <main class="max-w-5xl mx-auto px-6 space-y-48">
            <section class="reveal visible">
                <div class="status-tag-anim px-6 py-2 mb-10 font-black uppercase text-xs">Status Live ‚ö°</div>
                <div class="block mb-20">
                    <h1 id="interactive-name" class="text-5xl md:text-9xl font-black tracking-tighter leading-[0.85] uppercase select-none"></h1>
                    <div class="mono text-[10px] md:text-xs opacity-40 mt-4 uppercase tracking-[0.3em] font-black">aka squiddrill, sentinel</div>
                </div>
                <div class="neo-box p-10 md:p-16 max-w-4xl bg-white text-black relative">
                    <div class="flex gap-4 mb-8"><div class="w-4 h-4 bg-black"></div><div class="w-4 h-4 bg-black"></div><div class="w-4 h-4 bg-black"></div></div>
                    <div id="quote-container" class="min-h-[140px]">
                        <p id="quote-text" class="text-3xl md:text-5xl font-black uppercase italic leading-none transition-all duration-500">"Imagination is more important than knowledge."</p>
                        <p id="quote-author" class="mono text-xs mt-8 font-black uppercase tracking-[0.3em] text-pink-600">Albert Einstein</p>
                    </div>
                </div>
            </section>

            <section class="reveal">
                <div class="flex items-center gap-8"><h2 class="text-4xl md:text-6xl font-black uppercase italic tracking-tighter brutal-heading">Logic Stack üíª</h2><div class="h-2 flex-grow bg-white"></div></div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                    <div class="neo-box p-10 border-cyan-400">
                        <span class="mono text-sm text-cyan-400 font-black mb-4 block">01</span>
                        <h3 class="text-4xl font-black uppercase mb-6">PYTHON</h3>
                        <p class="text-sm font-bold opacity-60 leading-relaxed italic">"Solving complex puzzles and architectural brains through clean, logical automation."</p>
                    </div>
                    <div class="neo-box p-10 border-pink-500">
                        <span class="mono text-sm text-pink-500 font-black mb-4 block">02</span>
                        <h3 class="text-4xl font-black uppercase mb-6">SQL</h3>
                        <p class="text-sm font-bold opacity-60 leading-relaxed italic">"Architecting chaotic data streams into ordered, relational structures for efficiency."</p>
                    </div>
                    <div class="neo-box p-10 border-lime">
                        <span class="mono text-sm text-lime font-black mb-4 block">03</span>
                        <h3 class="text-4xl font-black uppercase mb-6">NETS</h3>
                        <p class="text-sm font-bold opacity-60 leading-relaxed italic">"Understanding global digital nodes to visualize and optimize the internet's skeleton."</p>
                    </div>
                </div>
            </section>

            <section class="reveal">
                <div class="flex items-center gap-8"><h2 class="text-4xl md:text-6xl font-black uppercase italic tracking-tighter brutal-heading">Feed üí¨</h2><div class="h-2 flex-grow bg-white"></div></div>
                <div class="neo-box p-6 md:p-10 relative">
                    <div id="comments-list" class="comments-scroll-area space-y-6 mb-10">
                        <p class="mono text-xs opacity-50 uppercase tracking-widest flex items-center gap-2"><i class="fa-solid fa-spinner animate-spin"></i> Initializing Node Data...</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                        <input id="comment-name" type="text" placeholder="GUEST NAME" class="bg-transparent border-4 border-white p-5 mono text-white uppercase outline-none focus:border-lime">
                        <input id="comment-input" type="text" placeholder="MESSAGE (ENTER)" class="bg-transparent border-4 border-white p-5 mono text-white uppercase outline-none focus:border-cyan md:col-span-2">
                        <button onclick="window.postComment()" class="bg-white text-black px-10 font-black uppercase hover:bg-lime transition-all border-4 border-black text-xl shadow-[8px_8px_0px_var(--lime)]">POST</button>
                    </div>
                </div>
            </section>

            <footer class="reveal pt-32 border-t-8 border-white mt-40 pb-20">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-start">
                    <div class="space-y-10">
                        <h4 class="text-5xl md:text-7xl font-black uppercase tracking-tight brutal-heading">SQUIDDRILL</h4>
                        <p class="text-sm font-bold opacity-60 leading-relaxed uppercase italic">A digital repository recording progress through logic, software architecture, and system design.</p>
                        <p class="text-[10px] mono font-bold opacity-40 uppercase tracking-[0.2em] leading-loose pt-4">¬© ALL RIGHTS RESERVED BHAVYA KAPATEL SECURE PROTOCOL 2026</p>
                    </div>
                    <div class="flex flex-col gap-8 md:items-end">
                        <div class="neo-box bg-white text-black p-10 font-black uppercase inline-block md:text-right min-w-[320px]">
                            <div class="mb-2">ACTIVE SINCE 2024</div><div class="mb-6">LOC: ANAND / GUJ / IN</div>
                            <span class="text-red-600 flex items-center md:justify-end"><span class="live-dot"></span>SYSTEM ONLINE</span>
                        </div>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- ARCADE VIEW -->
    <div id="arcade-view" class="page-view view-hidden full-view-container">
        <div class="max-w-6xl mx-auto px-6 space-y-10 pb-40">
            <div class="flex flex-col md:flex-row justify-between items-center gap-10">
                <h2 class="text-6xl md:text-8xl font-black uppercase italic bg-orange-600 text-white px-8 py-4 shadow-[12px_12px_0px_white] brutal-heading">Arcade</h2>
                <button onclick="resetArcadeSteps()" class="px-12 py-5 bg-white text-black font-black uppercase border-4 border-black shadow-[8px_8px_0px_var(--lime)] hover:-translate-y-1 transition-all text-xl">CHOOSE MODULE</button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-4 gap-12">
                <div class="lg:col-span-3">
                    <div class="relative neo-box border-8 overflow-hidden">
                        <canvas id="game-canvas"></canvas>
                        <div id="game-overlay" class="absolute inset-0 flex items-center justify-center bg-black/95">
                            <div class="text-center p-8 md:p-16 border-8 border-white bg-black shadow-[15px_15px_0px_var(--lime)] w-[85%]">
                                <h3 id="overlay-title" class="text-3xl md:text-5xl font-black uppercase mb-10 italic">INITIATE GAME</h3>
                                <button id="overlay-btn" onclick="startGame()" class="bg-white text-black px-12 py-6 text-2xl font-black uppercase hover:bg-lime border-4 border-black w-full sm:w-auto">BOOT</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-1 space-y-8">
                    <div class="neo-box bg-white p-8 text-black">
                        <h3 class="text-2xl font-black uppercase mb-6 border-b-4 border-black pb-2">Records</h3>
                        <div id="leaderboard-list" class="space-y-4 mono font-black uppercase text-sm">
                            <p class="opacity-50 italic uppercase tracking-widest">Querying Records...</p>
                        </div>
                    </div>
                    <div class="neo-box bg-cyan-400 p-8 text-black text-center">
                        <span class="mono text-xs font-black uppercase block mb-2">OUTPUT</span>
                        <span id="current-score" class="text-6xl font-black italic">000</span>
                    </div>
                    <button onclick="switchView('home')" class="back-btn text-xl">ABORT</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SOCIALS VIEW -->
    <div id="connect-view" class="page-view view-hidden full-view-container">
        <div class="max-w-6xl mx-auto px-6 space-y-20">
            <h2 class="text-6xl md:text-9xl font-black uppercase italic text-center tracking-tighter brutal-heading">Connect</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <a href="https://github.com/squiddrilll" target="_blank" class="connect-card"><i class="fa-brands fa-github text-6xl mb-6"></i><h3 class="text-3xl font-black uppercase">GITHUB</h3><p class="mono text-xs opacity-50 mt-4">REPOS ‚Üó</p></a>
                <a href="https://linkedin.com/in/bhavya-kapatel-9a392a3a7/" target="_blank" class="connect-card"><i class="fa-brands fa-linkedin text-6xl mb-6"></i><h3 class="text-3xl font-black uppercase">LINKEDIN</h3><p class="mono text-xs opacity-50 mt-4">NETWORK ‚Üó</p></a>
                <a href="https://x.com/SquidDrill" target="_blank" class="connect-card"><i class="fa-brands fa-x-twitter text-6xl mb-6"></i><h3 class="text-3xl font-black uppercase">X / TWITTER</h3><p class="mono text-xs opacity-50 mt-4">BROADCAST ‚Üó</p></a>
                <a href="https://instagram.com/bhavya.kapatel" target="_blank" class="connect-card"><i class="fa-brands fa-instagram text-6xl mb-6"></i><h3 class="text-3xl font-black uppercase">INSTAGRAM</h3><p class="mono text-xs opacity-50 mt-4">FEED ‚Üó</p></a>
                <button onclick="copyText('squiddrill', this)" class="connect-card text-left"><i class="fa-brands fa-discord text-6xl mb-6"></i><h3 class="text-3xl font-black uppercase">DISCORD</h3><p class="mono text-xs opacity-50 mt-4">CLICK TO COPY üìã</p></button>
                <a href="mailto:bhavyakapatel2008@gmail.com" target="_blank" class="connect-card"><i class="fa-solid fa-envelope text-6xl mb-6 text-lime"></i><h3 class="text-3xl font-black uppercase">EMAIL</h3><p class="mono text-xs opacity-50 mt-4">SEND MSG ‚úâÔ∏è</p></a>
            </div>
            <div class="text-center pb-20"><button onclick="switchView('home')" class="text-3xl back-btn max-w-sm">RETURN HOME</button></div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-12 left-1/2 -translate-x-1/2 hidden z-[5000]">
        <div class="bg-white text-black border-8 border-black px-12 py-6 font-black uppercase text-2xl shadow-[15px_15px_0px_var(--lime)]">COPIED ‚úÖ</div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, increment, collection, addDoc, onSnapshot, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC-ljBHE316s_9ssHeBjyQ2zF6lpNo93VY",
            authDomain: "website-ddb0c.firebaseapp.com",
            projectId: "website-ddb0c",
            storageBucket: "website-ddb0c.firebasestorage.app",
            messagingSenderId: "143641913342",
            appId: "1:143641913342:web:ef0f6494e3676d6396c2af"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = "web-page"; 
        let user = null;
        let leaderboardData = [];
        let currentActiveSessionName = "";
        let selectedInputMode = 'desktop';

        const blacklist = ["fuck", "shit", "bitch", "ass", "nigger", "cunt", "pussy", "dick", "faggot", "whore", "slut", "bastard", "cock", "tit", "rape", "porn", "hitler", "nazi", "gay", "lesbian", "hoe", "cum", "bollocks", "motherfucker", "nigga", "retard", "fag", "dyke", "kike", "spic", "chink"];
        
        const filterProfanity = (text) => {
            if (!text) return "";
            let clean = text.toLowerCase();
            blacklist.forEach(word => {
                const regex = new RegExp(word, 'gi');
                clean = clean.replace(regex, "****");
            });
            const aggressiveRegex = new RegExp(blacklist.map(w => w.split('').join('[^a-zA-Z0-9]*')).join('|'), 'gi');
            return text.replace(aggressiveRegex, "****");
        };

        window.closeInitialModal = () => {
            const modal = document.getElementById('initial-modal');
            modal.classList.add('closing');
            setTimeout(() => { modal.style.display = 'none'; }, 600);
        };

        const init = async () => {
            await signInAnonymously(auth);
            onAuthStateChanged(auth, async (u) => {
                user = u; if (!user) return;
                const statsDoc = doc(db, 'artifacts', appId, 'public', 'data', 'stats', 'counters');
                try {
                    const snap = await getDoc(statsDoc);
                    if (!snap.exists()) await setDoc(statsDoc, { total: 1 });
                    else await updateDoc(statsDoc, { total: increment(1) });
                } catch (e) {}
                onSnapshot(statsDoc, (doc) => {
                    const count = doc.data()?.total || 0;
                    document.getElementById('v-count').innerText = count.toLocaleString();
                });
                
                const commentsCol = collection(db, 'artifacts', appId, 'public', 'data', 'comments');
                onSnapshot(commentsCol, (snapshot) => {
                    const list = document.getElementById('comments-list'); if (!list) return;
                    list.innerHTML = "";
                    const docs = snapshot.docs.map(d => ({...d.data(), id: d.id}));
                    
                    // Pin Logic: Absolute sort for Creator's unique ID or flagged pinned=true
                    docs.sort((a, b) => {
                        const isPinnedA = a.pinned === true || a.uid === 'M4m4TZm1G5T7FzZ3dhdNfv9SNqY2' || a.name === 'Creator';
                        const isPinnedB = b.pinned === true || b.uid === 'M4m4TZm1G5T7FzZ3dhdNfv9SNqY2' || b.name === 'Creator';
                        if (isPinnedA && !isPinnedB) return -1;
                        if (!isPinnedA && isPinnedB) return 1;
                        return (b.timestamp || 0) - (a.timestamp || 0);
                    });

                    docs.forEach(c => {
                        const div = document.createElement('div');
                        const isOwner = c.uid === 'M4m4TZm1G5T7FzZ3dhdNfv9SNqY2' || c.name === 'Creator' || c.pinned === true;
                        div.className = "neo-box p-6 bg-black border-white " + (isOwner ? "comment-pinned" : "");
                        const displayName = filterProfanity(c.name || "ANON");
                        const msg = filterProfanity(c.text || "");
                        const badge = (c.uid === 'M4m4TZm1G5T7FzZ3dhdNfv9SNqY2' || c.name === 'Creator') ? '<span class="ml-2 bg-lime text-black px-2 text-[8px] font-black uppercase tracking-widest">CREATOR</span>' : '';
                        div.innerHTML = `<div class="flex justify-between mb-2"><span class="mono text-[10px] text-lime font-black uppercase tracking-tight">${displayName.toUpperCase()}${badge}</span></div><p class="text-sm font-bold uppercase tracking-tight">${msg}</p>`;
                        list.appendChild(div);
                    });
                });

                const leaderboardCol = collection(db, 'artifacts', appId, 'public', 'data', 'leaderboard');
                onSnapshot(leaderboardCol, (snapshot) => {
                    leaderboardData = snapshot.docs.map(d => d.data());
                    updateLeaderboardUI();
                });
            });
        };

        window.validateNickname = () => {
            const nameInput = document.getElementById('arcade-nickname');
            const newName = nameInput.value.trim().toUpperCase();
            if (!newName) { nameInput.classList.add('input-error'); setTimeout(() => nameInput.classList.remove('input-error'), 500); return; }
            if (currentActiveSessionName !== "" && newName !== currentActiveSessionName) {
                if (leaderboardData.some(e => e.name === newName)) {
                    nameInput.placeholder = "NAME TAKEN"; nameInput.value = "";
                    nameInput.classList.add('input-error'); setTimeout(() => nameInput.classList.remove('input-error'), 500);
                    return;
                }
            }
            currentActiveSessionName = newName;
            document.getElementById('game-step-1').classList.add('hidden');
            document.getElementById('game-step-2').classList.remove('hidden');
        };

        window.selectDevice = (mode) => {
            selectedInputMode = mode;
            document.getElementById('game-step-2').classList.add('hidden');
            document.getElementById('game-step-3').classList.remove('hidden');
        };

        window.resetArcadeSteps = () => {
            document.getElementById('game-modal').style.display = 'flex';
            document.getElementById('game-step-1').classList.remove('hidden');
            document.getElementById('game-step-2').classList.add('hidden');
            document.getElementById('game-step-3').classList.add('hidden');
        };

        window.postComment = async () => {
            const input = document.getElementById('comment-input');
            const nameInput = document.getElementById('comment-name');
            const text = input?.value.trim(); const name = nameInput?.value.trim();
            if (!text || !user) return;
            try {
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'comments'), {
                    uid: user.uid, name: name, text: text, timestamp: Date.now()
                });
                input.value = ""; nameInput.value = "";
            } catch (e) {}
        };

        const updateLeaderboardUI = () => {
            const list = document.getElementById('leaderboard-list'); if (!list) return;
            const uniqueEntries = {};
            leaderboardData.forEach(d => {
                if (d.game === currentGame) {
                    if (!uniqueEntries[d.name] || d.score > uniqueEntries[d.name].score) { uniqueEntries[d.name] = d; }
                }
            });
            const filtered = Object.values(uniqueEntries).sort((a,b) => b.score - a.score).slice(0, 5);
            list.innerHTML = filtered.length ? "" : "<p class='opacity-50 italic'>Node Empty...</p>";
            filtered.forEach((entry, idx) => {
                const crown = idx === 0 ? " üëë" : "";
                list.innerHTML += `<div class="flex justify-between border-b-2 border-white/10 pb-1"><span class="mono">${idx + 1}. ${entry.name}${crown}</span><span class="text-pink-600 font-black">${Math.floor(entry.score)}</span></div>`;
            });
        };

        window.saveArcadeScore = async (score) => {
            if (!user || score < 1) return;
            try {
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'leaderboard'), {
                    name: currentActiveSessionName.toUpperCase(), score: score, game: currentGame, timestamp: Date.now()
                });
            } catch (e) {}
        };

        window.addEventListener('load', init);

        const quotes = [
            { t: "Imagination is more important than knowledge.", a: "Albert Einstein" },
            { t: "The only way to do great work is to love what you do.", a: "Steve Jobs" },
            { t: "Innovation distinguishes between a leader and a follower.", a: "Steve Jobs" },
            { t: "Logic will get you from A to B. Imagination will take you everywhere.", a: "Albert Einstein" },
            { t: "Whether you think you can or you think you can't, you're right.", a: "Henry Ford" },
            { t: "Your most unhappy customers are your greatest source of learning.", a: "Bill Gates" },
            { t: "When something is important enough, you do it even if the odds are not in your favor.", a: "Elon Musk" },
            { t: "Intelligence is the ability to adapt to change.", a: "Stephen Hawking" },
            { t: "That brain of mine is something more than merely mortal; as time will show.", a: "Ada Lovelace" },
            { t: "We can only see a short distance ahead, but we can see plenty there that needs to be done.", a: "Alan Turing" },
            { t: "Simplicity is the ultimate sophistication.", a: "Leonardo da Vinci" },
            { t: "Energy and persistence conquer all things.", a: "Benjamin Franklin" },
            { t: "The happiness of your life depends upon the quality of your thoughts.", a: "Marcus Aurelius" },
            { t: "Luck is what happens when preparation meets opportunity.", a: "Seneca" },
            { t: "It's not what happens to you, but how you react to it that matters.", a: "Epictetus" },
            { t: "He who has a why to live can bear almost any how.", a: "Friedrich Nietzsche" },
            { t: "The unexamined life is not worth living.", a: "Socrates" },
            { t: "Quality is not an act, it is a habit.", a: "Aristotle" },
            { t: "Wise men speak because they have something to say; Fools because they have to say something.", a: "Plato" },
            { t: "In the middle of difficulty lies opportunity.", a: "Albert Einstein" },
            { t: "Appear weak when you are strong, and strong when you are weak.", a: "Sun Tzu" },
            { t: "Knowing others is intelligence; knowing yourself is true wisdom.", a: "Lao Tzu" },
            { t: "Success is not final, failure is not fatal: it is the courage to continue that counts.", a: "Winston Churchill" },
            { t: "Everything you've ever wanted is on the other side of fear.", a: "George Addair" },
            { t: "The best way to predict the future is to invent it.", a: "Alan Kay" },
            { t: "It does not matter how slowly you go as long as you do not stop.", a: "Confucius" },
            { t: "Life is what happens when you're making other plans.", a: "John Lennon" },
            { t: "The secret of getting ahead is getting started.", a: "Mark Twain" },
            { t: "I have not failed. I've just found 10,000 ways that won't work.", a: "Thomas Edison" },
            { t: "Code is like humor. When you have to explain it, it‚Äôs bad.", a: "Cory House" },
            { t: "Stay hungry, stay foolish.", a: "Steve Jobs" },
            { t: "First, solve the problem. Then, write the code.", a: "John Johnson" },
            { t: "Experience is the name everyone gives to their mistakes.", a: "Oscar Wilde" },
            { t: "The machine does not isolate man from the great problems of nature but plunges him more deeply into them.", a: "Antoine de Saint-Exup√©ry" },
            { t: "Man is a tool-using animal. Without tools he is nothing, with tools he is all.", a: "Thomas Carlyle" },
            { t: "The advance of technology is based on making it fit in so that you don't even notice it.", a: "Bill Gates" },
            { t: "Technology is a useful servant but a dangerous master.", a: "Christian Lous Lange" },
            { t: "Any sufficiently advanced technology is indistinguishable from magic.", a: "Arthur C. Clarke" },
            { t: "The great myth of our times is that technology is communication.", a: "Libby Larsen" },
            { t: "It has become appallingly obvious that our technology has exceeded our humanity.", a: "Albert Einstein" },
            { t: "The science of today is the technology of tomorrow.", a: "Edward Teller" },
            { t: "The real problem is not whether machines think but whether men do.", a: "B.F. Skinner" },
            { t: "The human spirit must prevail over technology.", a: "Albert Einstein" },
            { t: "Modern technology has made the world a small neighborhood.", a: "Unknown" },
            { t: "Technology is best when it brings people together.", a: "Matt Mullenweg" },
            { t: "The internet is the first thing that humanity has built that humanity doesn't understand.", a: "Eric Schmidt" },
            { t: "Privacy is not an option, and it shouldn't be the price we pay for just getting on the Internet.", a: "Gary Kovacs" },
            { t: "Data is the new oil.", a: "Clive Humby" },
            { t: "In God we trust, all others must bring data.", a: "W. Edwards Deming" },
            { t: "Computers are incredibly fast, accurate, and stupid.", a: "Leo Cherne" },
            { t: "Hardware is where the people in your company who don't write software work.", a: "Unknown" },
            { t: "If you think technology can solve your security problems, then you don't understand the problems.", a: "Bruce Schneier" },
            { t: "The computer was born to solve problems that did not exist before.", a: "Bill Gates" },
            { t: "One man's constant is another man's variable.", a: "Alan Perlis" },
            { t: "Talk is cheap. Show me the code.", a: "Linus Torvalds" },
            { t: "Programs must be written for people to read, and only incidentally for machines to execute.", a: "Harold Abelson" },
            { t: "Deleted code is debugged code.", a: "Jeff Sickel" },
            { t: "Good design adds value faster than it adds cost.", a: "Thomas C. Gale" },
            { t: "Software is a great combination between artistry and engineering.", a: "Bill Gates" },
            { t: "There are two ways to write error-free programs; only the third one works.", a: "Alan Perlis" }
        ];

        const nameEl = document.getElementById('interactive-name');
        const buildName = () => {
            if (!nameEl) return;
            let html = "";
            [..."BHAVYA"].forEach((char, i) => { html += `<span class="char ${(i % 3 === 0) ? 'c-1' : (i % 3 === 1) ? 'c-2' : 'c-3'}">${char}</span>`; });
            html += "<br>";
            [..."KAPATEL"].forEach(char => html += `<span class="char text-white">${char}</span>`);
            nameEl.innerHTML = html;
        };
        buildName();

        document.addEventListener('mousemove', e => {
            const cursor = document.getElementById('cursor'); if (!cursor) return;
            cursor.style.left = e.clientX + 'px'; cursor.style.top = e.clientY + 'px';
        });

        document.addEventListener('mouseover', e => {
            const cursor = document.getElementById('cursor'); if (!cursor) return;
            if (e.target.closest('a, button, .char, input')) cursor.style.transform = 'scale(2.5) rotate(45deg)';
            else cursor.style.transform = 'scale(1)';
        });

        let quoteIdx = 0;
        setInterval(() => {
            const qText = document.getElementById('quote-text'); const qAuth = document.getElementById('quote-author');
            if (!qText || !qAuth) return;
            quoteIdx = (quoteIdx + 1) % quotes.length;
            qText.style.opacity = '0'; qAuth.style.opacity = '0';
            setTimeout(() => { qText.innerText = `"${quotes[quoteIdx].t}"`; qAuth.innerText = quotes[quoteIdx].a; qText.style.opacity = '1'; qAuth.style.opacity = '1'; }, 500);
        }, 6000);

        window.switchView = (viewId) => {
            document.querySelectorAll('.page-view').forEach(v => v.classList.add('view-hidden'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('nav-active'));
            const view = document.getElementById(`${viewId}-view`);
            if (view) view.classList.remove('view-hidden');
            document.getElementById(`nav-${viewId}`).classList.add('nav-active');
            window.scrollTo(0,0);
            if(viewId === 'arcade') { initGame(); resetArcadeSteps(); } else stopGame();
            if(viewId === 'home') document.body.classList.remove('view-open'); else document.body.classList.add('view-open');
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        window.copyText = (text) => {
            const el = document.createElement('textarea'); el.value = text; document.body.appendChild(el);
            el.select(); document.execCommand('copy'); document.body.removeChild(el);
            const toast = document.getElementById('toast');
            if (toast) { toast.classList.remove('hidden'); setTimeout(() => toast.classList.add('hidden'), 2000); }
        };

        const bCanvas = document.getElementById('bubble-canvas');
        const bCtx = bCanvas.getContext('2d');
        let bubbles = [];
        const resizeBubbleCanvas = () => { bCanvas.width = window.innerWidth; bCanvas.height = window.innerHeight; };
        window.addEventListener('resize', resizeBubbleCanvas); resizeBubbleCanvas();
        class Bubble {
            constructor(x, y) {
                this.x = x; this.y = y; this.size = Math.random() * 8 + 4;
                this.speedX = Math.random() * 4 - 2; this.speedY = Math.random() * -4 - 1;
                this.opacity = 1; this.color = ['#C3FF00', '#FF0055', '#00F0FF', '#ffffff'][Math.floor(Math.random() * 4)];
            }
            update() { this.x += this.speedX; this.y += this.speedY; this.opacity -= 0.02; }
            draw() { bCtx.globalAlpha = this.opacity; bCtx.beginPath(); bCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2); bCtx.fillStyle = this.color; bCtx.fill(); }
        }
        function handleBubbles() {
            bCtx.clearRect(0, 0, bCanvas.width, bCanvas.height);
            for (let i = 0; i < bubbles.length; i++) { bubbles[i].update(); bubbles[i].draw(); if (bubbles[i].opacity <= 0) { bubbles.splice(i, 1); i--; } }
            requestAnimationFrame(handleBubbles);
        }
        handleBubbles();
        window.addEventListener('mousedown', e => { for (let i = 0; i < 8; i++) bubbles.push(new Bubble(e.clientX, e.clientY)); });
        window.addEventListener('touchstart', e => { for (let i = 0; i < 4; i++) bubbles.push(new Bubble(e.touches[0].clientX, e.touches[0].clientY)); });

        // --- GAME ENGINE ---
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        let currentGame = 'dino', gameActive = false, score = 0, loop, frame = 0;
        let dino = { y: 390, v: 0 }, obstacles = [], snake = [{x: 5, y: 5}], food = {x: 10, y: 10}, dir = {x: 1, y: 0};
        let isMobileDevice = false;

        // Swipe & Tap Controls Logic
        let touchStartX = 0, touchStartY = 0, touchStartTime = 0;
        canvas.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX; touchStartY = e.touches[0].clientY;
            touchStartTime = Date.now();
        }, { passive: false });

        canvas.addEventListener('touchend', (e) => {
            if (selectedInputMode !== 'touch') return;
            const dx = e.changedTouches[0].clientX - touchStartX;
            const dy = e.changedTouches[0].clientY - touchStartY;
            const dt = Date.now() - touchStartTime;

            if (Math.abs(dx) < 10 && Math.abs(dy) < 10 && dt < 200) {
                if (currentGame === 'dino') handleControl('up');
                return;
            }

            if (Math.abs(dx) > Math.abs(dy)) {
                if (Math.abs(dx) > 30) handleControl(dx > 0 ? 'right' : 'left');
            } else {
                if (Math.abs(dy) > 30) handleControl(dy > 0 ? 'down' : 'up');
            }
        });

        window.switchGame = (type) => {
            currentGame = type;
            document.getElementById('game-modal').style.display='none';
            gameActive = false; updateLeaderboardUI();
            document.getElementById('overlay-title').innerText = type.toUpperCase() + " READY";
            document.getElementById('game-overlay').style.display = 'flex';
        };

        window.startGame = () => { document.getElementById('game-overlay').style.display = 'none'; gameActive = true; score = 0; resetGameState(); runLoop(); };
        const initGame = () => { 
            canvas.width = canvas.parentElement.clientWidth; 
            canvas.height = 450; 
            isMobileDevice = window.innerWidth < 768;
        };
        const stopGame = () => { gameActive = false; cancelAnimationFrame(loop); };
        const resetGameState = () => { dino = { y: 390, v: 0 }; obstacles = []; snake = [{x:5, y:5}]; dir = {x: 1, y: 0}; frame = 0; food = {x: 10, y: 10}; };

        const runLoop = () => {
            if(!gameActive) return;
            ctx.fillStyle = '#000000'; ctx.fillRect(0,0,canvas.width, canvas.height);
            
            const baseDinoSpeed = isMobileDevice ? 5 : 7;
            const snakeRate = isMobileDevice ? 10 : 7;

            if(currentGame === 'dino') {
                dino.v += 1.2; dino.y += dino.v; if(dino.y > 390) { dino.y = 390; dino.v = 0; }
                if(frame % 80 === 0) obstacles.push({x: canvas.width, w: 40, h: 50 + Math.random()*60});
                ctx.fillStyle = '#C3FF00'; ctx.fillRect(60, dino.y, 45, 45); 
                ctx.fillStyle = '#FF0055';
                obstacles.forEach(o => {
                    o.x -= baseDinoSpeed + (score/200); ctx.fillRect(o.x, 450 - o.h, o.w, o.h);
                    if(o.x < 105 && o.x > 15 && dino.y + 45 > 450 - o.h) gameOver();
                });
                obstacles = obstacles.filter(o => o.x > -50); score += 0.15;
            } else {
                if(frame % snakeRate === 0) {
                    const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
                    const gridW = Math.floor(canvas.width / 25), gridH = 18;
                    if(head.x < 0 || head.x >= gridW || head.y < 0 || head.y >= gridH || snake.some(s => s.x === head.x && s.y === head.y)) return gameOver();
                    snake.unshift(head);
                    if(head.x === food.x && head.y === food.y) { score += 10; food = {x: Math.floor(Math.random()*(gridW-1)), y: Math.floor(Math.random()*(gridH-1))}; }
                    else { snake.pop(); }
                }
                ctx.fillStyle = '#00F0FF'; snake.forEach(s => ctx.fillRect(s.x*25, s.y*25, 23, 23));
                ctx.fillStyle = '#FF0055'; ctx.fillRect(food.x*25, food.y*25, 23, 23);
            }
            document.getElementById('current-score').innerText = Math.floor(score).toString().padStart(3, '0');
            frame++; loop = requestAnimationFrame(runLoop);
        };

        const gameOver = () => { gameActive = false; cancelAnimationFrame(loop); window.saveArcadeScore(Math.floor(score)); document.getElementById('overlay-title').innerText = "FATAL ERROR"; document.getElementById('overlay-btn').innerText = "REBOOT"; document.getElementById('game-overlay').style.display = 'flex'; };

        window.handleControl = (type) => {
            if (currentGame === 'dino' && (type === 'action' || type === 'up') && dino.y === 390) dino.v = -22;
            if (currentGame === 'snake') {
                if((type === 'up' || type === 'action') && dir.y !== 1) dir = {x:0, y:-1}; 
                if(type === 'down' && dir.y !== -1) dir = {x:0, y:1};
                if(type === 'left' && dir.x !== 1) dir = {x:-1, y:0}; 
                if(type === 'right' && dir.x !== -1) dir = {x:1, y:0};
            }
        };

        window.addEventListener('keydown', e => {
            if(document.activeElement.tagName === 'INPUT') return;
            if(['Space','ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.code)) {
                e.preventDefault();
                if(e.code === 'Space' || e.code === 'ArrowUp') handleControl('up');
                if(e.code === 'ArrowDown') handleControl('down');
                if(e.code === 'ArrowLeft') handleControl('left');
                if(e.code === 'ArrowRight') handleControl('right');
            }
        });
    </script>
</body>
</html>
